/**
 * Robot Framework Academy - Lesson 006 OPTIMIZED
 * Estructura de directorios y buenas prÃ¡cticas
 */

const LESSON_006 = {
    id: 6,
    title: "Estructura de directorios y buenas prÃ¡cticas",
    duration: "5 min",
    level: "beginner",
    section: "section-01",
    type: "standard", // âœ… AGREGADO
    content: `
        <h2>ğŸ“ Estructura Directorios</h2>
        <p>Buenas prÃ¡cticas = proyecto mantenible durante aÃ±os.</p>
        
        <h3>ğŸ¤– Tests estructura:</h3>
        <pre><code class="robot">*** Variables ***
\${PROJECT_ROOT}      \${CURDIR}
\${TESTS_DIR}        \${PROJECT_ROOT}/tests
\${RESOURCES_DIR}    \${PROJECT_ROOT}/resources
\${CONFIG_DIR}       \${PROJECT_ROOT}/config
\${PAGES_DIR}        \${RESOURCES_DIR}/page_objects
\${COMMON_DIR}       \${RESOURCES_DIR}/common
\${VALID_PATTERN}    *_tests.robot
\${NAMING_PATTERN}   ^[a-z][a-z0-9_]*$

*** Test Cases ***
Validar Estructura Base
    [Documentation]    Valida directorios principales del proyecto
    Log    ğŸ“ Validando estructura base
    Directory Should Exist    \${TESTS_DIR}
    Directory Should Exist    \${RESOURCES_DIR}
    Directory Should Exist    \${CONFIG_DIR}
    Should Contain           \${TESTS_DIR}        tests
    Should Contain           \${RESOURCES_DIR}    resources
    Log    âœ… Estructura base correcta

Verificar Nomenclatura Tests
    [Documentation]    Verifica naming conventions en tests
    Log    ğŸ” Verificando nomenclatura tests
    \${test_files}=    List Files In Directory    \${TESTS_DIR}    \${VALID_PATTERN}    recursive=True
    Should Not Be Empty      \${test_files}
    FOR    \${file}    IN    @{test_files}
        Should Match Regexp    \${file}    \${NAMING_PATTERN}
        Should Contain         \${file}    _tests.robot
        Log    âœ… Archivo vÃ¡lido: \${file}
    END
    Log    âœ… Nomenclatura tests correcta

Validar Page Objects
    [Documentation]    Valida estructura page objects
    Log    ğŸ“„ Validando page objects
    Create Directory         \${PAGES_DIR}
    Directory Should Exist   \${PAGES_DIR}
    \${page_pattern}=        Set Variable    *_page.robot
    Create File             \${PAGES_DIR}/login_page.robot    *** Keywords ***\\nLogin Page Test\\n    Log    Page object
    \${page_files}=         List Files In Directory    \${PAGES_DIR}    \${page_pattern}
    Should Not Be Empty     \${page_files}
    FOR    \${page}    IN    @{page_files}
        Should Contain      \${page}    _page.robot
        Log    âœ… Page object: \${page}
    END

Verificar Resources Common
    [Documentation]    Verifica estructura resources comÃºn
    Log    ğŸ”§ Verificando resources comÃºn
    Create Directory           \${COMMON_DIR}
    Directory Should Exist     \${COMMON_DIR}
    Create File               \${COMMON_DIR}/browser_keywords.robot    *** Keywords ***\\nBrowser Setup\\n    Log    Common keyword
    \${common_files}=         List Files In Directory    \${COMMON_DIR}    *_keywords.robot
    Should Not Be Empty       \${common_files}
    FOR    \${common}    IN    @{common_files}
        Should Contain        \${common}    _keywords.robot
        Should Match Regexp   \${common}    \${NAMING_PATTERN}
        Log    âœ… Common resource: \${common}
    END

Test Antipatrones
    [Documentation]    Detecta antipatrones comunes
    Log    âš ï¸ Verificando antipatrones
    \${bad_names}=    Create List    Test_LOGIN.robot    test_login.robot    TestLogin.robot
    FOR    \${bad_name}    IN    @{bad_names}
        Should Not Contain    \${bad_name}    @
        Should Not Be Empty   \${bad_name}
        Should Contain        \${bad_name}    .robot
        Log    âœ… AntipatrÃ³n verificado: \${bad_name}
    END
    Log    âœ… Antipatrones verificados

Validar Proyecto Completo
    [Documentation]    ValidaciÃ³n final estructura completa
    Log    ğŸ¯ ValidaciÃ³n final proyecto
    Directory Should Exist    \${TESTS_DIR}
    Directory Should Exist    \${RESOURCES_DIR}
    Directory Should Exist    \${PAGES_DIR}
    Directory Should Exist    \${COMMON_DIR}
    \${total_dirs}=    Count Directories In Directory    \${PROJECT_ROOT}    recursive=True
    Should Be True    \${total_dirs} >= 4
    Log    âœ… Proyecto estructura validada: \${total_dirs} directorios</code></pre>
        
        <h3>ğŸ¯ PrÃ¡ctica estructura (4 min):</h3>
        <p>1. Revisa proyecto lecciÃ³n anterior</p>
        <p>2. Crea subcarpeta tests/login/ para tests login</p>
        <p>3. Crea subcarpeta tests/checkout/ para tests compra</p>
        <p>4. Renombra archivos: funcionalidad_tests.robot</p>
        <p>5. Crea resources/page_objects/ para page objects</p>
        <p>6. Crea resources/common/ para keywords comunes</p>
        <p>7. Mueve keywords: login_page.robot a page_objects/</p>
        <p>8. Crea browser_keywords.robot en common/</p>
        <p>9. Verifica nombres sin espacios ni caracteres especiales</p>
        <p>10. Ejecuta tests validaciÃ³n: robot validation_tests.robot</p>
        <p>11. Agrupa tests por mÃ³dulo en subcarpetas</p>
        <p>12. Documenta estructura en README.md</p>
        <p>13. Valida que todos nombres siguen patrÃ³n underscore</p>
        <p>14. Crea estructura para smoke vs regression tests</p>
        <p>15. Ejecuta validaciÃ³n completa estructura</p>

        <h3>ğŸ’¡ Tip</h3>
        <p>Nombres descriptivos = proyecto autodocumentado</p>
        
        <h3>ğŸš€ Siguiente</h3>
        <p>LecciÃ³n 007: ConfiguraciÃ³n navegador web</p>
    `,
    topics: ["estructura", "buenas-prÃ¡cticas"],
    hasCode: true,
    hasExercise: true,
    type: "standard"
};